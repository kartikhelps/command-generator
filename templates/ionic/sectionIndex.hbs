import { IonButton, IonCheckbox, IonContent, IonGrid, IonText, IonToast } from "@ionic/react";
import { useEffect, useState } from "react";
import { Link, useHistory } from "react-router-dom";

{{#each data}}
{{#switch type}}
  {{#case "Nav"}}
import {{@root.name}}Nav from "./{{@root.name}}Nav";
  {{/case}}
  {{#case "Form"}}
import {{@root.name}}Form from "./{{@root.name}}Form";
  {{/case}}
{{/switch}}
{{/each}}

function {{name}}({ setSection, vars }) {
  const history = useHistory();
  const [toastOpen, setToastOpen] = useState(false);
  const [toastMessage, setToastMessage] = useState("");
  const [toastColor, setToastColor] = useState("");

  return (
    <>
      <IonContent>
        <IonToast
          isOpen={toastOpen}
          message={toastMessage}
          color={toastColor}
          duration={3000}
          onDidDismiss={() => setToastOpen(false)}
        />
        {{#each data}}
        {{#switch type}}
          {{#case "Nav"}}
          <{{@root.name}}Nav vars={vars} setSection={setSection} />
            {{create fields "./templates/ionic/navbar.hbs" (concat @root.path "/") (concat @root.name "Nav.tsx") @root.name}}
          {{/case}}
          {{#case "Form"}}
          <{{@root.name}}Form vars={vars} setSection={setSection} />
           {{create fields "./templates/ionic/form.hbs" (concat @root.path "/") (concat @root.name "Form.tsx") @root.name}}
          {{/case}}
          {{#case "banner"}}
          <{{@root.name}}Banner vars={vars} setSection={setSection} />
           {{create fields "./templates/ionic/banner.hbs" (concat @root.path "/") (concat @root.name "Banner.tsx") @root.name}}
          {{/case}}
        {{/switch}}
        {{/each}}
      </IonContent>
    </>
  );
}

export default {{name}};
